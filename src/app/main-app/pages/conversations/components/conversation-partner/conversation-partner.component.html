
<form [formGroup]="_form" novalidate >
  <div class="w-full h-[calc(100vh-109px)] bg-neutral-3-100 overflow-y-auto tds-custom-scroll" *ngIf="data">
    <div class="bg-white px-6 pt-6">
      <div class="flex gap-6">
        <tds-avatar class="bg-accent-4  text-white" size="xl"
          tdsSrc="https://randomuser.me/api/portraits/women/68.jpg">
        </tds-avatar>
        <div class="flex flex-col gap-2">
          <div class="flex gap-4 items-center">
            <div class="text-heading-4 font-sans font-semibold text-neutral-1-900">
                {{_form.controls['Name'].value}}
            </div>
            <button tds-button color="secondary">
              <span class="flex items-center ">
                <i class="tdsi-edit-fill text-xl leading-none text-neutral-1-400"></i>
              </span>
            </button>
          </div>
          <div class="flex gap-2">
            <tds-button-group>
              <div tds-button color="secondary" tds-dropdown trigger="click"
                [tdsDropdownMenu]="menu"
                class="border border-success-300 border-solid bg-success-200 rounded-md px-2">
                <span
                  class="flex items-center text-caption-2 font-semibold text-accent-6 font-sans cursor-pointer">
                  Bình thường <i
                    class="tdsi-arrow-down-fill text-lg leading-none ml-1"></i>
                </span>
              </div>
              <tds-dropdown-menu #menu="tdsDropdownMenu">
                <div class="w-full">
                  <!-- <div (click)="log('1st menu item')" tds-dropdown-item>
                    <a> Item 1 </a>
                  </div>
                  <div (click)="log('2 menu item')" tds-dropdown-item>
                    <a> Item 2 </a>
                  </div>
                  <div (click)="log('3 menu item')" tds-dropdown-item>
                    <a> Item 3 </a>
                  </div>
                  <div (click)="log('4 menu item')" tds-dropdown-item>
                    <a> Item 4 </a>
                  </div> -->
                </div>
              </tds-dropdown-menu>
            </tds-button-group>
            <div class="text-body-2 font-regular font-sans text-neutral-1-400">ID: <span
                class="font-semibold">{{_form.controls['Id'].value}}</span></div>
          </div>
        </div>
      </div>
      <div class="pt-6 flex flex-col gap-3">
        <div class="flex gap-2 items-center">
          <div
            class="tdsi-call-fill px-1 bg-neutral-3-50 text-neutral-1-400 text-xl rounded-[10px]">
          </div>
          <div class="flex items-center gap-1">
            <div class="text-neutral-1-900 text-body-2 font-regular font-sans">
              {{_form.controls['Phone'].value || 'Chưa có SĐT'}}
            </div>
            <div class="tdsi-success-fill text-xl text-primary-1"></div>
          </div>
        </div>
        <div class="flex gap-2 items-center">
          <div
            class="tdsi-email-fill px-1 bg-neutral-3-50 text-neutral-1-400 text-xl rounded-[10px]">
          </div>
          <div class="text-neutral-1-900 text-body-2 font-regular font-sans">
            {{_form.controls['Email'].value || 'Chưa có Email'}}
          </div>
        </div>
        <div class="flex gap-2 items-center">
          <div
            class="tdsi-pin-fill px-1 bg-neutral-3-50 text-neutral-1-400 text-xl rounded-[10px]">
          </div>
          <div class="text-neutral-1-900 text-body-2 font-regular font-sans">
            {{_form.controls['Street'].value || 'Chưa có địa chỉ'}}
          </div>
        </div>
      </div>
      <div class="pt-4 flex gap-2 pb-4">
        <tds-button-group>
          <div tds-button color="secondary" tds-dropdown trigger="click" [tdsDropdownMenu]="menu"
            class="rounded-full border border-neutral-2-100 border-solid bg-white py-1.5 px-4">
            <span
              class="flex items-center text-body-2 font-semibold text-neutral-1-500 cursor-pointer">
              Tổng doanh số: <span class="pl-2 text-primary-1">200.000</span><i
                class="tdsi-arrow-down-line text-lg leading-none ml-2"></i>
            </span>
          </div>
          <tds-dropdown-menu #menu="tdsDropdownMenu">
            <div class="w-full">
              <!-- <div (click)="log('1st menu item')" tds-dropdown-item>
                <a> Item 1 </a>
              </div>
              <div (click)="log('2 menu item')" tds-dropdown-item>
                <a> Item 2 </a>
              </div>
              <div (click)="log('3 menu item')" tds-dropdown-item>
                <a> Item 3 </a>
              </div>
              <div (click)="log('4 menu item')" tds-dropdown-item>
                <a> Item 4 </a>
              </div> -->
            </div>
          </tds-dropdown-menu>
        </tds-button-group>
        <button class="border border-neutral-2-100 border-solid px-4 rounded-full">
          <span
            class="flex items-center text-body-2 font-semibold font-sans text-neutral-1-900"><i
              class="tdsi-block-fill text-lg mr-2 text-neutral-1-400"></i> Chặn SĐT
          </span>
        </button>
      </div>
    </div>
    <div class="bg-white p-4">
      <div class="flex items-center gap-2 pb-3">
        <tds-form-field class="w-full">
          <input class="placeholder-neutral-1-400 bg-neutral-3-50" placeholder="Nhập ghi chú"
            tdsInput />
        </tds-form-field>
        <button tds-button color="primary">
          <span class="flex items-center">
            <i class="tdsi-plus-fill text-lg leading-none mr-2"></i>Thêm
          </span>
        </button>
      </div>
      <div class="pl-2 flex flex-col gap-3">
        <div class="border-l border-primary-1 border-solid pl-2">
          <div class="text-neutral-1-400 text-body-2 font-regular font-sans">22:22 12/02/2022
          </div>
          <div class="flex gap-2 pt-1">
            <div class="text-body-2 font-semibold font-sans text-neutral-1-900">Admin</div>
            <div class="text-body-2 font-regular font-sans text-neutral-1-900">Khách bom hàng,
              hẹn mai lấy mà mai hông lấy, giận hết sứt</div>
          </div>
        </div>
        <div class="border-l border-primary-1 border-solid pl-2">
          <div class="text-neutral-1-400 text-body-2 font-regular font-sans">22:22 12/02/2022
          </div>
          <div class="flex gap-2 pt-1">
            <div class="text-body-2 font-semibold font-sans text-neutral-1-900">Admin</div>
            <div class="text-body-2 font-regular font-sans text-neutral-1-900">Khách bom hàng,
              hẹn mai lấy mà mai hông lấy, giận hết sứt</div>
          </div>
        </div>
      </div>
    </div>
    <div class="pt-1">
      <tds-collapse [expandIconPosition]="'right'" class="bg-white">
        <tds-collapse-panel [header]="headerSalesDetails" [active]="true" [disabled]=false
          [expandedIcon]="'tdsi-arrow-up-line'">
          <ng-template #headerSalesDetails>
            <div class="flex items-center gap-4">
              <tds-avatar size="lg" tdsSrc="/assets/images/conversation/avatar-salesslip.svg">
              </tds-avatar>
              <div class="flex flex-col gap-1">
                <div class="text-neutral-1-400 font-regular text-body-2 font-sans">Phiếu bán
                  hàng gần nhất</div>
                <div class="flex gap-2">
                  <div class="text-info-500 text-header-1 font-sans font-semibold">
                    #INV/2022/0236</div>
                  <div>
                    <tds-tag status='primary' type="outline">Đã thanh toán</tds-tag>
                  </div>
                </div>
              </div>
            </div>
          </ng-template>

          <div class="w-full h-full flex flex-col gap-1.5">
            <div class="flex gap-3 items-center">
              <div><img src="/assets/images/conversation/avatar-ghn.svg"></div>
              <div class="text-body-2 font-semibold font-sans text-neutral-1-900">Giao hàng
                nhanh</div>
              <div class="text-body-2 font-regular font-sans text-neutral-1-900">[Đã giao hàng
                - <span class="text-info-500 pl-0.5">GHN1t872345831</span>]</div>
            </div>
            <div class="text-body-2 font-regular font-sans text-neutral-1-400">Tổng tiền: <span
                class="text-neutral-1-900 pl-0.5">200.000 (Tiền mặt)</span> </div>
            <div class="text-body-2 font-regular font-sans text-neutral-1-400">Thời gian giao
              hàng: <span class="text-neutral-1-900 pl-0.5">16:00, 24/02/2022</span> </div>
            <div class="text-body-2 font-regular font-sans text-neutral-1-400">038 254 2646 -
              256 đường số 5, Phường 5, Quận 5, TPHCM </div>
            <div class="text-body-2 font-semibold font-sans text-accent-3">Hàng dễ vỡ</div>
          </div>
        </tds-collapse-panel>
      </tds-collapse>
    </div>
    <div class="pt-1">
      <tds-collapse [expandIconPosition]="'right'" class="bg-white" [bordered]="false">
        <tds-collapse-panel [header]="headerListSales" [active]="true" [disabled]=false
          [expandedIcon]="'tdsi-arrow-up-line'">
          <ng-template #headerListSales>
            <div class="flex items-center gap-4">
              <div class="text-neutral-1-900 font-semibold text-header-1 font-sans">Phiếu bán
                hàng gần nhất</div>
              <div>
                <tds-badge [standalone]="true" [count]="5"></tds-badge>
              </div>
            </div>
          </ng-template>

          <div class="w-full h-full">
            <div class="w-full">
              <tds-filter-status >
                <tds-filter-status-item name='Tất cả' [value]='0' [count]='4'>
                  <ng-template tds-filter-status-template let-active='active'
                    let-count='count' let-name='name' let-value>
                    <div class="py-1 px-2 flex items-center border border-neutral-2-100 border-solid rounded-full mr-2"
                      [ngClass]="{' border-primary-1':active,'border-neutral-2-100
                      group-hover:border-primary-1':!active}">
                      <div class="text-body-2 mr-2 font-semibold" [ngClass]="{'text-primary-1':active,'text-neutral-1-400
                          group-hover:text-primary-1':!active}">
                        {{name}}&nbsp; {{count}}
                      </div>
                    </div>
                  </ng-template>
                </tds-filter-status-item>

                <tds-filter-status-item name='Nháp' [value]='1' [count]='2'>
                  <ng-template tds-filter-status-template let-active='active'
                    let-count='count' let-name='name' let-value>
                    <div class="py-1 px-2 flex items-center border border-neutral-2-100 border-solid rounded-full mr-2"
                      [ngClass]="{' border-primary-1':active,'border-neutral-2-100
                      group-hover:border-primary-1':!active}">
                      <div class="text-body-2 mr-2 font-semibold" [ngClass]="{'text-primary-1':active,'text-neutral-1-400
                          group-hover:text-primary-1':!active}">
                        {{name}}&nbsp; {{count}}
                      </div>
                    </div>
                  </ng-template>
                </tds-filter-status-item>

                <tds-filter-status-item name='Đã xác nhận' [value]='2' [count]='0'>
                  <ng-template tds-filter-status-template let-active='active'
                    let-count='count' let-name='name' let-value>
                    <div class="py-1 px-2 flex items-center border border-neutral-2-100 border-solid rounded-full mr-2"
                      [ngClass]="{' border-primary-1':active,'border-neutral-2-100
                      group-hover:border-primary-1':!active}">
                      <div class="text-body-2 mr-2 font-semibold" [ngClass]="{'text-primary-1':active,'text-neutral-1-400
                          group-hover:text-primary-1':!active}">
                        {{name}}&nbsp; {{count}}
                      </div>
                    </div>
                  </ng-template>
                </tds-filter-status-item>

                <tds-filter-status-item name='Đã thanh toán' [value]='3' [count]='1'>
                  <ng-template tds-filter-status-template let-active='active'
                    let-count='count' let-name='name' let-value>
                    <div class="py-1 px-2 flex items-center border border-neutral-2-100 border-solid rounded-full mr-2"
                      [ngClass]="{' border-primary-1':active,'border-neutral-2-100
                      group-hover:border-primary-1':!active}">
                      <div class="text-body-2 mr-2 font-semibold" [ngClass]="{'text-primary-1':active,'text-neutral-1-400
                          group-hover:text-primary-1':!active}">
                        {{name}}&nbsp; {{count}}
                      </div>
                    </div>
                  </ng-template>
                </tds-filter-status-item>

                <tds-filter-status-item name='Huỷ' [value]='4' [count]='0'>
                  <ng-template tds-filter-status-template let-active='active'
                    let-count='count' let-name='name' let-value>
                    <div class="py-1 px-2 flex items-center border border-neutral-2-100 border-solid rounded-full mr-2"
                      [ngClass]="{' border-primary-1':active,'border-neutral-2-100
                      group-hover:border-primary-1':!active}">
                      <div class="text-body-2 mr-2 font-semibold" [ngClass]="{'text-primary-1':active,'text-neutral-1-400
                          group-hover:text-primary-1':!active}">
                        {{name}}&nbsp; {{count}}
                      </div>
                    </div>
                  </ng-template>
                </tds-filter-status-item>

              </tds-filter-status>
            </div>
            <div class="pt-4 flex flex-col gap-2 w-full">
              <tds-collapse>
                <tds-collapse-panel [header]="headerNhap" [active]="false" [disabled]=false>
                  <ng-template #headerNhap>
                    <div class="flex gap-4 w-full content-center items-center">
                      <div class="flex flex-col gap-0.5 pr-10">
                        <div
                          class="text-info-500 font-semibold text-body-2 font-sans">
                          #INV/2022/0236</div>
                        <div class="text-neutral-1-400 text-caption-2 font-regular">
                          11:00, 25/12/2021
                        </div>
                      </div>
                      <div class="text-neutral-1-900 text-body-2 font-semibold pr-10">
                        400.000đ
                      </div>
                      <div>
                        <tds-badge status="secondary" text="Nháp"></tds-badge>
                      </div>
                    </div>
                  </ng-template>
                  <div class="w-full flex flex-col gap-4">
                    <div class="flex items-center">
                      <div class="w-1/4">
                        <div
                          class="text-body-2 font-regular text-neutral-1-900 font-sans">
                          Đối tác GH:</div>
                      </div>
                      <div class="w-3/4 flex gap-1">
                        <div><img src="/assets/images/conversation/avatar-ghn.svg">
                        </div>
                        <div
                          class="font-semibold text-body-2 font-sans text-neutral-1-900">
                          Giao hàng nhanh - <span
                            class="text-info-500">GHN1t872345831</span> </div>
                      </div>
                    </div>
                  </div>
                </tds-collapse-panel>
              </tds-collapse>

              <tds-collapse>
                <tds-collapse-panel [header]="headerDaThanhToan" [active]="false" [disabled]=false>
                  <ng-template #headerDaThanhToan>
                    <div class="flex gap-4 w-full content-center items-center">
                      <div class="flex flex-col gap-0.5 pr-10">
                        <div
                          class="text-info-500 font-semibold text-body-2 font-sans">
                          #INV/2022/0236</div>
                        <div class="text-neutral-1-400 text-caption-2 font-regular">
                          11:00, 25/12/2021
                        </div>
                      </div>
                      <div class="text-neutral-1-900 text-body-2 font-semibold pr-10">
                        400.000đ
                      </div>
                      <div>
                        <tds-badge status="primary" text="Đã thanh toán">
                        </tds-badge>
                      </div>
                    </div>
                  </ng-template>
                  <div class="w-full flex flex-col gap-4">
                    <div class="flex items-center">
                      <div class="w-1/4">
                        <div
                          class="text-body-2 font-regular text-neutral-1-900 font-sans">
                          Đối tác GH:</div>
                      </div>
                      <div class="w-3/4 flex gap-1">
                        <div><img src="/assets/images/conversation/avatar-ghn.svg">
                        </div>
                        <div
                          class="font-semibold text-body-2 font-sans text-neutral-1-900">
                          Giao hàng nhanh - <span
                            class="text-info-500">GHN1t872345831</span> </div>
                      </div>
                    </div>
                  </div>
                </tds-collapse-panel>
              </tds-collapse>

              <tds-collapse>
                <tds-collapse-panel [header]="headerNhap" [active]="true" [disabled]=false>
                  <ng-template #headerNhap>
                    <div class="flex gap-4 w-full content-center items-center">
                      <div class="flex flex-col gap-0.5 pr-10">
                        <div
                          class="text-info-500 font-semibold text-body-2 font-sans">
                          #INV/2022/0236</div>
                        <div class="text-neutral-1-400 text-caption-2 font-regular">
                          11:00, 25/12/2021
                        </div>
                      </div>
                      <div class="text-neutral-1-900 text-body-2 font-semibold pr-10">
                        400.000đ
                      </div>
                      <div>
                        <tds-badge status="secondary" text="Nháp"></tds-badge>
                      </div>
                    </div>
                  </ng-template>
                  <div class="w-full flex flex-col gap-4">
                    <div class="flex items-center">
                      <div class="w-1/4">
                        <div
                          class="text-body-2 font-regular text-neutral-1-900 font-sans">
                          Đối tác GH:</div>
                      </div>
                      <div class="w-3/4 flex gap-1">
                        <div><img src="/assets/images/conversation/avatar-ghn.svg">
                        </div>
                        <div
                          class="font-semibold text-body-2 font-sans text-neutral-1-900">
                          Giao hàng nhanh - <span
                            class="text-info-500">GHN1t872345831</span> </div>
                      </div>
                    </div>
                    <div class="flex items-center">
                      <div class="w-1/4">
                        <div
                          class="text-body-2 font-regular text-neutral-1-900 font-sans">
                          Phương thức TT:</div>
                      </div>
                      <div class="w-3/4 flex gap-1">
                        <div
                          class="font-semibold text-body-2 font-sans text-neutral-1-900">
                          Tiền mặt</div>
                      </div>
                    </div>
                    <div class="flex items-center">
                      <div class="w-1/4">
                        <div
                          class="text-body-2 font-regular text-neutral-1-900 font-sans">
                          Điện thoại:</div>
                      </div>
                      <div class="w-3/4 flex gap-1">
                        <div
                          class="font-semibold text-body-2 font-sans text-neutral-1-900">
                          0799587448</div>
                      </div>
                    </div>
                    <div class="flex items-center">
                      <div class="w-1/4">
                        <div
                          class="text-body-2 font-regular text-neutral-1-900 font-sans">
                          Địa chỉ:</div>
                      </div>
                      <div class="w-3/4 flex gap-1">
                        <div
                          class="font-semibold text-body-2 font-sans text-neutral-1-900">
                          phường thành phước thị xã bình minh vĩnh long</div>
                      </div>
                    </div>
                    <div class="flex items-center">
                      <div class="w-1/4">
                        <div
                          class="text-body-2 font-regular text-neutral-1-900 font-sans">
                          Trạng thái GH:</div>
                      </div>
                      <div class="w-3/4 flex gap-1">
                        <tds-badge status="info" text="Đang giao hàng"></tds-badge>
                      </div>
                    </div>
                  </div>
                </tds-collapse-panel>
              </tds-collapse>
            </div>
          </div>
        </tds-collapse-panel>
      </tds-collapse>
    </div>
  </div>
</form>
