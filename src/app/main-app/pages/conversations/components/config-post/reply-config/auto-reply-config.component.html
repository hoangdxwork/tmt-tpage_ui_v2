<tds-spin [spinning]="isLoading">
    <div class="w-full h-full flex flex-col gap-y-4" *ngIf="dataModel">
        <div class="flex items-center gap-x-2">
            <tds-switch size="md" [(ngModel)]="dataModel.IsEnableAutoReplyComment"></tds-switch>
            <div class="text-body-2 font-regular text-neutral-1-900 font-sans">Phản hồi bình luận tự động?</div>
        </div>

        <div class="flex flex-col gap-y-4" *ngIf="dataModel.IsEnableAutoReplyComment">
            <div>
                <tds-label>Nội dung phản hồi tự động</tds-label>
                <!-- <input tdsInput autocomplete="off" placeholder="Nhập nội dung phản hồi tự động" [(ngModel)]="dataModel.ContentForAutoReplyWithComment"/> -->
                <quill-editor [spellcheck]="false" placeholder="Nhập nội dung" [(ngModel)]="dataModel.ContentForAutoReplyWithComment"
                  [modules]="quillTagHelpers" class="input-quill-editor" [ngModelOptions]="{standalone: true}"></quill-editor>
            </div>

            <div class="border border-neutral-3-300 border-solid rounded-xl p-4 w-full h-full flex flex-col gap-y-3">
                <div class="text-header-2 text-neutral-1-900 font-semibold font-sans">Cấu hình phản hồi bình luận</div>

                <div class="flex items-center gap-x-2">
                    <tds-switch size="md" [(ngModel)]="dataModel.IsEnableAutoReplyMultiple"></tds-switch>
                    <div class="text-body-2 font-regular text-neutral-1-900 font-sans">Cho phép phản hồi nhiều lần</div>
                </div>

                <div *ngIf="dataModel.IsEnableAutoReplyMultiple" class="pl-4">
                    <tds-form-field>
                        <tds-label>Số lần tối đa phản hồi/bài viết/người dùng:</tds-label>
                        <tds-input-number [min]="0" [max]="100" [step]="1" placeholder="0"
                            [(ngModel)]="dataModel.MaxForAutoReplyMultiple" [formatter]="numberWithCommas" [parser]="parserComas"></tds-input-number>
                    </tds-form-field>
                </div>

                <div class="flex items-center gap-x-2">
                    <tds-switch size="md" [(ngModel)]="dataModel.IsEnableAutoReplyAllComment"></tds-switch>
                    <div class="text-body-2 font-regular text-neutral-1-900 font-sans">Phản hồi tất cả bình luận</div>
                </div>

                <div *ngIf="dataModel.IsEnableAutoReplyAllComment" class="pl-4">
                    <div class="flex items-center gap-x-2">
                          <tds-switch size="md" [(ngModel)]="dataModel.IsEnableAutoNotReplyCommentWithPhone"></tds-switch>
                          <div class="text-body-2 font-regular text-neutral-1-900 font-sans">Không phản hồi bình luận có số điện thoại:</div>
                    </div>
                </div>

                <div *ngIf="dataModel.IsEnableAutoReplyAllComment" class="pl-4">
                    <tds-form-field class="w-full">
                        <tds-label>Không phản hồi nếu bình luận chứa nội dung:</tds-label>

                        <tds-select placeholder='Nhập nội dung và bấm chọn' mode="tags" [maxTagCount]="10" [backdrop]="true"
                          [(ngModel)]="lstCommentNotAutoReply" (ngModelChange)="changeCommentNotAutoReply($event)">
                        </tds-select>
                    </tds-form-field>
                </div>

                <div class="flex items-center gap-x-2" *ngIf="!dataModel.IsEnableAutoReplyAllComment">
                    <tds-switch size="md" [(ngModel)]="dataModel.IsEnableAutoReplyCommentWithPhone"></tds-switch>
                    <div class="text-body-2 font-regular text-neutral-1-900 font-sans">Phản hồi bình luận có điện thoại</div>
                </div>

                <div class="flex items-center gap-x-2" *ngIf="!dataModel.IsEnableAutoReplyAllComment">
                    <tds-switch size="md" [(ngModel)]="dataModel.IsEnableAutoReplyCommentWithEmail"></tds-switch>
                    <div class="text-body-2 font-regular text-neutral-1-900 font-sans">Phản hồi bình luận có địa chỉ email</div>
                </div>
            </div>

            <div class="flex flex-col gap-y-4">
                <div class="flex items-center gap-x-2">
                    <tds-switch size="md" [(ngModel)]="dataModel.IsEnableAutoReplyCommentInMessage"></tds-switch>
                    <div class="text-body-2 font-regular text-neutral-1-900 font-sans">Phản hồi với tin nhắn?</div>
                </div>

                <div *ngIf="dataModel.IsEnableAutoReplyCommentInMessage">
                    <tds-label>Nội dung phản hồi với tin nhắn:</tds-label>
                    <!-- <input tdsInput autocomplete="off" placeholder="Nhập nội dung phản hồi" [(ngModel)]="dataModel.ContentForAutoReplyWithMessage"/> -->
                    <quill-editor [spellcheck]="false" placeholder="Nhập nội dung" [(ngModel)]="dataModel.ContentForAutoReplyWithMessage"
                      [modules]="quillTagHelpers" class="input-quill-editor" [ngModelOptions]="{standalone: true}"></quill-editor>
                </div>
            </div>
        </div>

        <!-- Cho phép phản hồi tự động khi bình luận tạo đơn tự động không hợp lệ -->
        <div class="flex gap-x-2 items-center">
          <tds-switch [(ngModel)]="dataModel.IsEnableAutoReplyCommentInNotIsValidToOrder" size="md"></tds-switch>
          <span class="">Cho phép phản hồi tự động khi bình luận tạo đơn tự động không hợp lệ</span>
        </div>

        <!-- Nội dung phản hồi tự động khi bình luận tạo đơn tự động không hợp lệ -->
        <div *ngIf="dataModel.IsEnableAutoReplyCommentInNotIsValidToOrder">
          <tds-label> Nội dung phản hồi tự động khi bình luận tạo đơn tự động không hợp lệ:</tds-label>
          <quill-editor [spellcheck]="false" placeholder="Nhập nội dung" [(ngModel)]="dataModel.ContentForAutoReplyCommentInNotIsValidToOrder"
            [modules]="notIsValidToOrderQuillTagHelpers" class="input-quill-editor" [ngModelOptions]="{standalone: true}"></quill-editor>
        </div>

        <!--Cho phép phản hồi tự động khi bình luận tạo đơn thành công -->
        <!-- Cho phép phản hồi tự động khi bình luận tạo đơn tự động không hợp lệ -->
        <div class="flex gap-x-2 items-center">
          <tds-switch [(ngModel)]="dataModel.IsEnableAutoReplyCommentOrderCreated" size="md"></tds-switch>
          <span>Cho phép phản hồi tự động khi bình luận tạo đơn thành công</span>
        </div>

        <!-- Nội dung phản hồi tự động khi bình luận tạo đơn tự động không hợp lệ -->
        <div *ngIf="dataModel.IsEnableAutoReplyCommentOrderCreated">
          <tds-label> Nội dung phản hồi tự động khi bình luận tạo đơn thành công</tds-label>
          <quill-editor [spellcheck]="false" placeholder="Nhập nội dung" [(ngModel)]="dataModel.ContentForAutoReplyCommentOrderCreated"
            [modules]="notIsValidToOrderQuillTagHelpers" class="input-quill-editor" [ngModelOptions]="{standalone: true}"></quill-editor>
        </div>
    </div>
</tds-spin>
