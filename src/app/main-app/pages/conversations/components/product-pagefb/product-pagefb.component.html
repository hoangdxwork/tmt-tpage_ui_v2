<div class="w-full flex flex-col gap-y-4 text-body-2 text-neutral-1-900">
  <div class="flex gap-x-2">
    <tds-form-field class="w-full">
      <input [(ngModel)]="filterObj.searchText" #innerText
        placeholder="Tìm kiếm sản phẩm" autocomplete="off" [ngModelOptions]="{standalone: true}" tdsInput />
      <span tdsPrefix><i class="text-neutral-1-500 tdsi-search-fill text-base"></i></span>
    </tds-form-field>

    <button tds-button color="primary" tds-dropdown trigger="click" [tdsDropdownMenu]="menu" placement="bottomRight">
      <span class="flex items-center">
        Sắp xếp
        <i class="tdsi-arrow-down-fill text-lg leading-none ml-2"></i>
      </span>
    </button>
    <tds-dropdown-menu #menu="tdsDropdownMenu">
      <div class="w-full">
        <div tds-dropdown-item *ngFor="let item of sortOptions" (click)="switchSort(item.value)" >
          <a>{{ item.text }} </a>
        </div>
      </div>
    </tds-dropdown-menu>
  </div>
  <div class="h-[600px] max-h-[600px]">
    <tds-table #rowSelectionTable
      [listData]="lstOfData"
      [showSizeChanger]="true"
      [frontPagination]="false"
      [loading]="isLoading"
      [scroll]="{y:'auto'}"
      [pageSize]="pageSize"
      [pageIndex]="pageIndex"
      [total]="count"
      (clickRefresh)="refreshData()"
      (queryParams)="onQueryParamsChange($event)">
      <thead>
        <tr>
          <th style="width: 10%;">Ảnh</th>
          <th style="width: 40%">Sản phẩm</th>
          <th style="width: 15%; text-align: center">Đơn vị tính</th>
          <th style="width: 15%; text-align: right">Giá</th>
          <th style="width: 20%; text-align: center">Thao tác</th>
        </tr>
      </thead>
      <tbody>
        <ng-template  ngFor let-data let-i="index" [ngForOf]="rowSelectionTable.data" let-odd='odd'>
            <tr>
              <td style="width: 10%;">
                  <tds-avatar class="rounded-lg" [shape]="'square'" [size]="44" [tdsSrc]="data.ImageUrl?data.ImageUrl:(data.Images?data.Images[0].Url:'')" [isAvatar]="false"></tds-avatar>
              </td>
              <td style="width: 40%">{{ data.NameGet }}</td>
              <td style="width: 15%; text-align: center">{{ data.UOMName }}</td>
              <td style="width: 15%; text-align: right">{{ data.Price | number:'1.0-3' }}</td>
              <td style="width: 20%; text-align: center">
                <button tds-button-outline color="primary" size="sm" (click)="onPushItem(data)">
                  <span class="flex items-center">
                    <i class="tdsi-reply-fill text-lg leading-none mr-2"></i>Gửi sản phẩm
                  </span>
                </button>
              </td>
            </tr>
        </ng-template>
      </tbody>
    </tds-table>
  </div>
</div>

<div *tdsModalFooter>
  <div class="flex justify-end p-4">
    <button tds-button class="min-w-[100px]" color="secondary" (click)="cancel()">
      Đóng
    </button>
  </div>
</div>

<!-- <button tds-button-outline color="primary" size="sm" (click)="onPushItem(data)">
  <span class="flex items-center">
    <i class="tdsi-reply-fill text-lg leading-none mr-2"></i>Gửi sản phẩm
  </span>
</button> -->
