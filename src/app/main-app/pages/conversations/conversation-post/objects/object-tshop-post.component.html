<div *ngIf="item" (click)="selectPost(item)"  class="pl-2.5 pr-[14px] py-[14px] flex gap-x-4
    {{ currentPost?.ObjectId == item.ObjectId ? 'bg-secondary-3 border-l-4 border-blue-500' : 'bg-white border-l-4 border-transparent'}}">

    <div class="flex flex-col gap-y-3" *ngIf="mdbTshopPost">
        <div class="relative w-[120px] h-[88px]">
            <div *ngIf="item.Thumbnail; else mediaPicture" class="relative">
                <img [src]="item.Thumbnail.Url"
                    [width]="item.Thumbnail.Width || 120"
                    [height]="item.Thumbnail.Height || 88"
                    class="max-w-[120px] max-h-[88px] w-[120px] h-[88px] rounded-md object-cover">
            </div>
            <ng-template #mediaPicture>
                <!-- trường hợp đang livestream -->
                <div *ngIf="mdbTshopPost.MediaLive" class="relative">
                    <img [src]="mdbTshopPost.MediaLive?.ThumbnailUrl" alt="" class="max-w-[120px] w-[120px] max-h-[88px] h-[88px] rounded-md object-cover">
                </div>
                <!-- trường hợp offstream -->
                <div *ngIf="mdbTshopPost.Medias && !mdbTshopPost.MediaLive" class="relative">
                    <img [src]="mdbTshopPost.Medias?.[0]?.Url" alt="" class="max-w-[120px] w-[120px] max-h-[88px] h-[88px] rounded-md object-cover">
                </div>
            </ng-template>

            <div *ngIf="mdbTshopPost.MediaLive?.IsBroadcasting">
                <div *ngIf="mdbTshopPost.Kind" class="h-[22px] flex items-center justify-center rounded-full absolute top-2 right-2 p-1 ring-2 ring-white ring-opacity-30 bg-gradient-to-b from-[#F22727] to-[#FF7575]">
                    <div class="tdsi-arrow-right-fill text-white leading-2 mr-1 text-caption-2 font-[Lato]">{{mdbTshopPost.Kind}}</div>
                </div>

                <!-- <div *ngIf="mdbTshopPost.HiddenKind" class="h-[22px] flex items-center justify-center rounded-full absolute top-2 right-2 p-1 ring-2 ring-white ring-opacity-30 bg-gradient-to-b from-[#F22727] to-[#FF7575]">
                    <div class="tdsi-arrow-right-fill text-white leading-2 mr-1 text-caption-2 font-[Lato]">{{mdbTshopPost.HiddenKind}}</div>
                </div> -->
            </div>
        </div>
        <!-- <div class="flex items-center w-full">
            <div class="flex items-center gap-x-2 text-neutral-1-400">
                <i class="tdsi-like-line"></i>
                <div>{{mdbTshopPost.count_reactions || 0}}</div>
            </div>
            <div class="ml-4 flex items-center gap-x-2 text-neutral-1-400">
                <i class="tdsi-message-line"></i>
                <div>{{mdbTshopPost.count_comments || 0}}</div>
            </div>
        </div> -->
    </div>
    <div class="flex-auto flex flex-col overflow-hidden gap-y-2">
        <span class="w-full font-semibold truncate">{{ item.Title || '(Không có tiêu đề)' }}</span>

        <span *ngIf="item.Description" class=" text-neutral-1-400">
            <span>{{item.Description | slice: 0: 50}}</span>
            <span *ngIf="item.Description.length > 50">...</span>
        </span>

        <div class="flex justify-between items-center">
            <span *ngIf="item.ChannelCreatedTime" class="text-neutral-1-400" >
                {{item.ChannelCreatedTime | date:'dd/MM/yyyy'}}
            </span>

            <span *ngIf="item.ChannelUpdatedTime" class="text-neutral-1-400 tdsi-time-line" tds-tooltip tooltipTitle="Cập nhật lần cuối lúc {{item.ChannelUpdatedTime | date:'dd/MM/yyyy HH:mm'}}">
            </span>
        </div>

        <!-- <div class="w-full flex justify-between items-center flex-wrap gap-y-2">
            <div *ngIf="mdbTshopPost.Content.Tags">
                <tds-tag *ngFor="let tag of mdbTshopPost.Content.Tags"
                    status="{{ currentPost?.ObjectId == item.ObjectId ? 'bg-base-orange-50 text-base-orange-500' : 'bg-neutral-3-100 text-neutral-1-600'}}" size="sm">
                    <span class="flex items-center py-0.5 cursor-pointer max-w-[150px]">
                        <span class="flex-auto truncate">{{tag.ObjectKind}}</span>
                    </span>
                </tds-tag>
            </div>
        </div> -->
    </div>
</div>
<!-- <div *ngIf="postChilds && postChilds.length > 0" class="pl-7 flex flex-col gap-y-1">
  <div *ngFor="let postChild of postChilds">
      <ng-container *ngIf="postChild.parent_id && postChild.parent_id == item!.ObjectId">
          <div class="pl-2.5 pr-[14px] py-[14px] flex gap-x-4 {{ currentPost?.ObjectId == postChild.fbid ? 'bg-secondary-3 border-l-4 border-blue-500' : 'bg-white border-l-4 border-transparent'}}"
              (click)="selectPost(postChild)">
              <div class="flex flex-col gap-y-3">
                  <div class="relative w-[120px] h-[88px]">
                      <div *ngIf="postChild.picture; else noPicture" class="relative">
                          <img [src]="postChild.picture" alt=""
                              class="max-w-[120px] w-[120px] max-h-[88px] h-[88px] rounded-md">
                      </div>
                      <ng-template #noPicture>
                          <div *ngIf="!postChild.picture; else errorPicture">
                              <img src="assets/imagesv2/conversation-post-img.svg" alt=""
                                  class="max-w-[120px] w-[120px] max-h-[88px] h-[88px] rounded-md p-4 {{currentPost?.ObjectId == postChild.fbid ?'bg-neutral-3-100' :'bg-neutral-3-50'}}">
                          </div>
                          <ng-template #errorPicture>
                              <img src="assets/imagesv2/errorPic.svg" alt=""
                                  class="max-w-[120px] w-[120px] max-h-[88px] h-[88px] rounded-md p-4 bg-neutral-3-50">
                          </ng-template>
                      </ng-template>
                  </div>
                  <div class="flex items-center w-full">
                      <div class="flex items-center gap-x-2 text-neutral-1-400">
                          <i class="tdsi-like-line"></i>
                          <div>{{postChild.count_reactions || 0}}</div>
                      </div>
                      <div class="ml-4 flex items-center gap-x-2 text-neutral-1-400">
                          <i class="tdsi-message-line"></i>
                          <div>{{postChild.count_comments || 0}}</div>
                      </div>
                  </div>
              </div>
              <div class="flex-auto flex flex-col overflow-hidden gap-y-2">
                  <span class="w-full font-semibold truncate" *ngIf="postChild.description">
                      {{postChild.description}}
                  </span>
                  <span *ngIf="!postChild.description">
                      (Chưa có tiêu đề)
                  </span>
                  <span *ngIf="postChild.message" class=" text-neutral-1-400">{{postChild.message | slice: 0: 50}}
                      <span *ngIf="postChild.message.length > 50">...</span>
                  </span>
                  <span *ngIf="postChild.created_time | compareToday" class="text-neutral-1-400">
                      {{postChild.created_time | yiDateTimeFormat}}
                  </span>
                  <span *ngIf="!(postChild.created_time | compareToday)"
                      class="text-neutral-1-400">
                      {{postChild.created_time | date:'dd/MM/yyyy HH:mm'}}
                  </span>
                  <div class="w-full flex justify-between items-center">
                      <div *ngIf="postChild.live_campaign">
                          <tds-tag size="sm"
                              status="{{ currentPost?.ObjectId == postChild.fbid ? 'bg-base-orange-50 text-base-orange-500' : 'bg-neutral-3-100 text-neutral-1-600'}}"
                              (click)="showModalLiveCampaign(postChild)">
                              <span class="flex items-center py-0.5 cursor-pointer max-w-[150px]"
                                  tds-tooltip [tooltipTitle]="postChild.live_campaign?.name">
                                  <span
                                      class="flex-auto truncate">{{postChild.live_campaign?.name}}</span>
                                  <i class="tdsi-arrow-right-line text-lg leading-none ml-1"></i>
                              </span>
                          </tds-tag>
                      </div>
                      <div *ngIf="!postChild.live_campaign">
                          <tds-tag size="sm"
                              status="{{ currentPost?.ObjectId == postChild.fbid ? 'bg-neutral-3-100 text-neutral-1-600': 'bg-neutral-3-50 text-neutral-1-600'}}">
                              <span class="flex items-center py-0.5 cursor-pointer max-w-[150px]">
                                  <span class="flex-auto truncate">Chọn chiến dịch</span>
                                  <i class="tdsi-arrow-right-line text-lg leading-none ml-1"></i>
                              </span>
                          </tds-tag>
                      </div>
                      <div *ngIf="postChild.live_campaign"
                          class="flex items-center justify-center">
                          <div class="w-5 h-5 rounded-full bg-accent-9 flex items-center justify-center"
                              tds-tooltip tooltipTitle="Bật tạo đơn tự động">
                              <i class="tdsi-flash-on-fill text-white leading-5"></i>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </ng-container>
  </div>
</div> -->
