<div class="row-col position-relative" *ngIf="data">
  <!-- Tổng quan bài viết-->
  <div class="bg-white">
    <div class="flex p-2" style="justify-content: space-between;">
      <div>
        <span *ngIf="data.type" class="mr-2">{{translateType(data.type, data.status_type)}}</span>
        <a href="{{data.permalink_url}}" target="_blank" class="text-info-500 mr-2">Link</a>
        <span>{{data.created_time | date: 'dd/MM/yyyy HH:mm'}}</span>
      </div>
      <div class="flex">
        <div class="mr-2">
          <tds-form-field>
            <tds-select valueField="value" textField="text" placeholder='select item'
              [(ngModel)]="currentFilter" [valuePrimitive]="false"
              [data]="filterOptions" (ngModelChange)="onChangeFilter($event)" >
            </tds-select>
          </tds-form-field>
        </div>
        <div class="mr-2">
          <tds-form-field>
            <tds-select valueField="value" textField="text" placeholder='select item'
              [(ngModel)]="currentSort" [valuePrimitive]="false"
              [data]="sortOptions" (ngModelChange)="onChangeSort($event)" >
            </tds-select>
          </tds-form-field>
        </div>
        <button tds-button-icon color="primary" (click)="fetchComments()">
          <i class="tdsi-reload-fill"></i>
        </button>
      </div>
    </div>
    <hr>
    <div class="p-2 w-full">
      <div class="flex" style="justify-content: space-between;">
        <div class="content">
          <p *ngIf="data.story">{{data.story}}</p>
          <p *ngIf="data.message">{{data.message}} </p>
          <p *ngIf="!data.message && !data.story">(Chưa có nội dung tiêu đề)</p>
        </div>
        <div *ngIf="data.picture" class="picture">
          <img tds-image [tdsSrc]="data.picture" />
        </div>
      </div>
      <div class="flex">
        <span>Like: {{data.count_reactions || 0}}</span>
        <span class="ml-2"> Bình luận: {{data.count_comments || 0}}</span>
      </div>
    </div>
  </div>
  <!-- Danh sách bình luận -->
  <div class="row-row" *ngIf="data">
      <item-post-comment [post]="data"
        [sort]="currentSort" [filter]="currentFilter">
      </item-post-comment>
  </div>
</div>
