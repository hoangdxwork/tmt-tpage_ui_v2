<div class="w-full h-full">
  <tds-spin [spinning]="isLoading">
    <div class="h-full w-full flex flex-col gap-y-4">
      <div class="flex gap-x-4 items-center">
        <div class="w-1/4 bg-white rounded-xl">
          <div class="w-full h-full flex 2xl:gap-x-6 xl:gap-x-4 p-6 items-start">
            <img src="../../../assets/imagesv2/live-campaign/product.svg" alt="" class="xl:w-[60px] 2xl:w-[80px]">

            <div class="flex flex-col gap-y-2 2xl:text-xl xl:text-body-1 font-semibold w-full">
              <span>Chờ chốt</span>
              <div class="flex justify-between items-center">
                <span class="text-sm text-neutral-1-500 font-normal">Số lượng đơn</span>
                <span>{{data?.OrderSummary?.OrderQuantity || 0 | numberCustom}}</span>
              </div>
              <div class="flex justify-between items-center">
                <span class="text-sm text-neutral-1-500 font-normal">Số lượng sản phẩm</span>
                <span>{{data?.OrderSummary?.ProductQuantity || 0 | numberCustom}}</span>
              </div>
              <div class="flex justify-between items-center">
                <span class="text-sm text-neutral-1-500 font-normal">Tổng tiền</span>
                <span class="text-info-500">{{data?.OrderSummary?.TotalAmount || 0 | numberCustom}}</span>
              </div>
            </div>
          </div>
        </div>

        <div class="w-1/4 bg-white rounded-xl">
          <div class="w-full h-full flex 2xl:gap-x-6 xl:gap-x-4 p-6 items-start">
            <img src="../../../assets/imagesv2/live-campaign/money.svg" alt="" class="xl:w-[60px] 2xl:w-[80px]">

            <div class="flex flex-col gap-y-2 2xl:text-xl xl:text-body-1 font-semibold w-full">
              <span>Chờ thanh toán</span>
              <div class="flex justify-between items-center">
                <span class="text-sm text-neutral-1-500 font-normal">Số lượng đơn</span>
                <span>{{data?.BillSummary?.OrderQuantity || 0 | numberCustom}}</span>
              </div>
              <div class="flex justify-between items-center">
                <span class="text-sm text-neutral-1-500 font-normal">Số lượng sản phẩm</span>
                <span>{{data?.BillSummary?.ProductQuantity || 0 | numberCustom}}</span>
              </div>
              <div class="flex justify-between items-center">
                <span class="text-sm text-neutral-1-500 font-normal">Tổng tiền</span>
                <span class="text-info-500">{{data?.BillSummary?.TotalAmount || 0 | numberCustom}}</span>
              </div>
            </div>
          </div>
        </div>

        <div class="w-1/4 bg-white rounded-xl">
          <div class="w-full h-full flex 2xl:gap-x-6 xl:gap-x-4 p-6 items-start">
            <img src="../../../assets/imagesv2/live-campaign/turnover.svg" alt="" class="xl:w-[60px] 2xl:w-[80px]">

            <div class="flex flex-col gap-y-2 2xl:text-xl xl:text-body-1 font-semibold w-full">
              <span>Thanh toán</span>
              <div class="flex justify-between items-center">
                <span class="text-sm text-neutral-1-500 font-normal">Số lượng đơn</span>
                <span>{{data?.PaySummary?.OrderQuantity || 0 | numberCustom}}</span>
              </div>
              <div class="flex justify-between items-center">
                <span class="text-sm text-neutral-1-500 font-normal">Số lượng sản phẩm</span>
                <span>{{data?.PaySummary?.ProductQuantity || 0 | numberCustom}}</span>
              </div>
              <div class="flex justify-between items-center">
                <span class="text-sm text-neutral-1-500 font-normal">Tổng tiền</span>
                <span class="text-info-500">{{data?.PaySummary?.TotalAmount || 0 | numberCustom}}</span>
              </div>
            </div>
          </div>
        </div>

        <div class="w-1/4 bg-white rounded-xl">
          <div class="w-full h-full flex 2xl:gap-x-6 xl:gap-x-4 p-6 items-start">
            <img src="../../../assets/imagesv2/live-campaign/order.svg" alt="" class="xl:w-[60px] 2xl:w-[80px]">

            <div class="flex flex-col gap-y-2 2xl:text-xl xl:text-body-1 font-semibold w-full">
              <span>Tổng hoá đơn</span>
              <div class="flex justify-between items-center">
                <span class="text-sm text-neutral-1-500 font-normal">Số lượng đơn</span>
                <span>{{(data?.BillSummary?.OrderQuantity || 0) + (data?.PaySummary?.OrderQuantity || 0) | numberCustom}}</span>
              </div>
              <div class="flex justify-between items-center">
                <span class="text-sm text-neutral-1-500 font-normal">Số lượng sản phẩm</span>
                <span>{{(data?.BillSummary?.ProductQuantity || 0) + (data?.PaySummary?.ProductQuantity || 0) | numberCustom}}</span>
              </div>
              <div class="flex justify-between items-center">
                <span class="text-sm text-neutral-1-500 font-normal">Tổng tiền</span>
                <span class="text-info-500">{{(data?.BillSummary?.TotalAmount || 0) + (data?.PaySummary?.TotalAmount || 0) | numberCustom}}</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Danh sách sản phẩm -->
      <div class="flex gap-x-4">
        <div class="w-2/3 bg-white rounded-xl h-full">
          <div class="p-4 font-semibold text-xl">
            <span>Sản phẩm</span>
          </div>
          <table-detail-report [liveCampaignId]="liveCampaignId" [lstDetails]="lstDetails"></table-detail-report>
        </div>

        <!-- Thông tin -->
        <div class="w-1/3 flex flex-col">
          <div class="p-4 font-semibold text-xl bg-white rounded-t-xl">
            <span>Thông tin</span>
          </div>

          <div class="flex flex-col gap-y-4 p-4 bg-white">
            <div class="flex gap-x-4 items-center">
              <span class="w-1/3 text-sm font-normal">Tên chiến dịch</span>
              <span class="font-semibold text-sm">{{dataLiveCampaign?.Name}}</span>
            </div>
            <div class="flex gap-x-4 items-center">
              <span class="w-1/3 text-sm font-normal">Facebook</span>
              <span class="font-semibold text-sm text-info-500">{{dataLiveCampaign?.Facebook_UserName}}</span>
            </div>
            <div class="flex gap-x-4 items-center">
              <span class="w-1/3 text-sm font-normal">Live ID</span>
              <span class="font-semibold text-sm">{{dataLiveCampaign?.Facebook_LiveId}}</span>
            </div>
            <div class="flex gap-x-4 items-center">
              <span class="w-1/3 text-sm font-normal">Ngày tạo</span>
              <span class="font-semibold text-sm">{{dataLiveCampaign?.DateCreated | date: 'dd/MM/yyyy HH:mm'}}</span>
            </div>
            <div class="flex gap-x-4 items-center">
              <span class="w-1/3 text-sm font-normal">Nhân viên chốt đơn</span>
              <span class="font-semibold text-sm" *ngFor="let user of dataLiveCampaign?.Users; let i = index">
                  {{user.Name}}
                  <span *ngIf="dataLiveCampaign?.Users && dataLiveCampaign.Users.length > (i + 1)">,</span>
              </span>
            </div>
            <div class="flex gap-x-4 items-center">
              <span class="w-1/3 text-sm font-normal">Trạng thái xác nhận chốt đơn</span>
              <span class="font-semibold text-sm">{{dataLiveCampaign?.ShowConfig}}</span>
            </div>
            <div class="flex gap-x-4 items-center">
              <span class="w-1/3 text-sm font-normal">Ghi chú</span>
              <span class="font-semibold text-sm">{{dataLiveCampaign?.Note}}</span>
            </div>
          </div>

          <div class="mt-1 bg-white rounded-b-xl">
            <tds-collapse [expandIconPosition]="'right'" class="bg-white w-full rounded-b-xl">
              <tds-collapse-panel [header]="'Thông tin nâng cao'" [expandedIcon]="'tdsi-arrow-up-line'" [disabled]=false bordered="false">

                <div class="flex flex-col gap-y-4 bg-white">
                  <div class="flex gap-x-4 items-center">
                    <span class="2xl:w-1/3 xl:w-1/2 text-sm font-normal">Mẫu tin chốt đơn</span>
                    <span class="font-semibold text-sm">{{dataLiveCampaign?.ConfirmedOrder_Template?.Name}}</span>
                  </div>
                  <div class="flex gap-x-4 items-center">
                    <span class="2xl:w-1/3 xl:w-1/2 text-sm font-normal">Mẫu tin dự bị</span>
                    <span class="font-semibold text-sm">{{dataLiveCampaign?.Preliminary_Template?.Name}}</span>
                  </div>
                  <div class="flex gap-x-4 items-center">
                    <span class="2xl:w-1/3 xl:w-1/2 text-sm font-normal">Thời gian tổng hợp (phút)</span>
                    <span class="font-semibold text-sm">{{dataLiveCampaign?.ResumeTime}}</span>
                  </div>
                  <div class="flex gap-x-4 items-center">
                    <span class="2xl:w-1/3 xl:w-1/2 text-sm font-normal">Thời gian kết thúc tổng hợp (phút)</span>
                    <span class="font-semibold text-sm">{{dataLiveCampaign?.EndDate | date: 'dd/MM/yyyy HH:mm'}}</span>
                  </div>
                  <div class="flex gap-x-4 items-center">
                    <span class="2xl:w-1/3 xl:w-1/2 text-sm font-normal">Số tiền cọc bắt buộc</span>
                    <span class="font-semibold text-sm">{{dataLiveCampaign?.MaxAmountDepositRequired}}</span>
                  </div>
                  <div class="flex gap-x-4 items-center">
                    <span class="2xl:w-1/3 xl:w-1/2 text-sm font-normal">Số tiền tối thiểu đặt cọc</span>
                    <span class="font-semibold text-sm">{{dataLiveCampaign?.MinAmountDeposit}}</span>
                  </div>
                  <div class="flex gap-x-4 items-center">
                    <span class="2xl:w-1/3 xl:w-1/2 text-sm font-normal">Bật số lượng</span>
                    <tds-checkbox [disabled]="true" [ngModel]="dataLiveCampaign?.EnableQuantityHandling"></tds-checkbox>
                  </div>
                  <div class="flex gap-x-4 items-center">
                    <span class="2xl:w-1/3 xl:w-1/2 text-sm font-normal">Tổng hợp đơn hàng trong thời gian ca làm việc</span>
                    <tds-checkbox [disabled]="true" [ngModel]="dataLiveCampaign?.IsShift"></tds-checkbox>
                  </div>
                  <div class="flex gap-x-4 items-center">
                    <span class="2xl:w-1/3 xl:w-1/2 text-sm font-normal">Không cho phép gán nhân viên vào cuộc hội thoại</span>
                    <tds-checkbox [disabled]="true" [ngModel]="dataLiveCampaign?.IsAssignToUserNotAllowed"></tds-checkbox>
                  </div>
                </div>
              </tds-collapse-panel>
            </tds-collapse>
          </div>
        </div>
      </div>
    </div>
  </tds-spin>
</div>
