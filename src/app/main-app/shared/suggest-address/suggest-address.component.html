<div class="grid w-fyll grid-cols-1">
  <form [formGroup]="_form" class="flex flex-col gap-y-3" novalidate>
      <div class="w-full flex gap-x-2 justify-between">
        <tds-form-field class="w-full">
            <input tdsInput placeholder="Số nhà, đường,..." formControlName="Street" />
        </tds-form-field>
        <button tds-button color="primary" (click)="expanded()">
            <span class="flex items-center">
              <i class="tdsi-move-line"></i>
            </span>
        </button>
      </div>
      <div *ngIf="isExpanded">
          <div class="w-full flex">
              <tds-form-field class="w-full">
                  <tds-select valueField="code" textField="name" placeholder='Tỉnh/Thành'
                      [valuePrimitive]="false" [allowClear]="true" (onSearch)="handleCityFilter($event)"
                      formControlName="City" disabledField="isActive" [data]="lstCities"
                      [allowClear]="true" (ngModelChange)="changeCity($event)">
                  </tds-select>
              </tds-form-field>
          </div>
          <div class="w-full flex">
              <tds-form-field class="w-full">
                  <tds-select valueField="code" textField="name" placeholder='Quận/Huyện'
                      [valuePrimitive]="false" [allowClear]="true" (onSearch)="handleFilterDistrict($event)"
                      formControlName="District" disabledField="isActive" [data]="lstDistricts"
                      [allowClear]="true" (ngModelChange)="changeDistrict($event)">
                  </tds-select>
              </tds-form-field>
          </div>
          <div class="w-full flex">
              <tds-form-field class="w-full">
                  <tds-select valueField="code" textField="name" placeholder='Phường/Xã'
                      [valuePrimitive]="false" [allowClear]="true" (onSearch)="handleFilterWard($event)"
                      formControlName="Ward" disabledField="isActive" [data]="lstWards"
                      [allowClear]="true" (ngModelChange)="changeWard($event)">
                  </tds-select>
              </tds-form-field>
          </div>
          <div class="w-full flex gap-x-2 justify-between">
              <tds-form-field class="w-full">
                  <input tdsInput placeholder="Số nhà, đường,..." (ngModel)]="innerText"/>
              </tds-form-field>
              <button tds-button color="primary" type="button" (click)="checkAddress(innerText)">
                  <span class="flex items-center">
                    <i class="tdsi-move-line"></i>
                  </span>
              </button>
          </div>
          <div *ngIf="tempAddresses" class="form-group mt-3">
              <ul class="list-group">
                  <li class="list-group-item d-flex align-items-center" *ngFor="let item of tempAddresses; index as i">
                      <label class="{{item.IsSelected ? 'success' : 'danger'}} mr-2 mb-0"
                          style="padding: 1px 4px 1px 6px;border-radius: 5px;font-size: 12px; height:min-content"
                          (click)="selectAddress(item, i)">
                          <span class="tpi-check" style="color: #fff;"></span>
                      </label>
                      <span class="font-normal cursor" style="font-size: 13px;" (click)="selectAddress(item, i)">
                        {{item.Address}}
                      </span>
                  </li>
              </ul>
          </div>
      </div>
  </form>
</div>
